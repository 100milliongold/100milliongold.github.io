(this["webpackJsonpparasite-poster"]=this["webpackJsonpparasite-poster"]||[]).push([[0],{18:function(e,t,n){e.exports=n.p+"static/media/parasite.logo.c88fbf2d.png"},21:function(e,t,n){e.exports=n(46)},26:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(12),c=n.n(o),r=(n(26),n(1)),s=n.n(r),d=n(8),h=n(13),u=n(14),l=n(19),f=n(15),g=n(20),v=n(16),w=n.n(v),p=n(49),m=n(53),x=n(54),y=n(50),b=n(51),R=n(52),_=n(17),k=n.n(_),j=n(18),E=n.n(j),O=(n(45),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(l.a)(this,Object(f.a)(t).call(this,e))).state={loading:!0},n.detection_options={withLandmarks:!0,withDescriptors:!1},n.videoConstraints={facingMode:"user"},n.make=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getVideo();case 2:return n.video=e.sent,e.next=5,n.getImage();case 5:n.image=e.sent,n.canvas=n.createCanvas(n.width,n.height),n.ctx=n.canvas.getContext("2d"),n.faceapi=w.a.faceApi(n.video,n.detection_options,n.modelReady);case 9:case"end":return e.stop()}}),e)}))),n.modelReady=function(){console.log("ready!"),n.setState({loading:!1}),n.faceapi.detect(n.gotResults)},n.gotResults=function(e,t){if(e)console.log(e);else{n.detections=t,n.ctx.fillStyle="#000000",n.ctx.fillRect(0,0,n.width,n.height),n.ctx.drawImage(n.video,0,0,n.width,n.height);var a=.75*n.canvas_width,i=a/583*216;n.ctx.drawImage(n.image,(n.canvas_width-a)/2,n.canvas_height-i,a,i),n.detections&&n.detections.length>0&&n.drawEyeBox(n.detections),n.faceapi.detect(n.gotResults)}},n.drawEyeBox=function(e){var t=x.a(e,p.a((function(e){var t=e.parts;return[t.leftEye,t.rightEye]})),m.a,y.a,(function(e){var t=b.a((function(e){return e._x}),e)._x,n=R.a((function(e){return e._x}),e)._x;n-=.3*n;var a=b.a((function(e){return e._y}),e)._y,i=R.a((function(e){return e._y}),e)._y-3,o=t-n;return{x:n,y:i,boxWidth:o+=.3*o,boxHeight:a-i+3}})),a=t.x,i=t.y,o=t.boxWidth,c=t.boxHeight;n.ctx.beginPath(),n.ctx.fillStyle="rgb(0,0,0)",n.ctx.fillRect(a,i,o,c),n.ctx.stroke(),n.ctx.closePath()},n.getVideo=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=n.vidioRef.current.video).setAttribute("style","display: none;"),t.width=n.width,t.height=n.height,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),n.getImage=function(){return new Promise((function(e,t){var n=new Image;n.src=E.a,n.onload=function(){e(n)}}))},n.createCanvas=function(e,t){var a=n.canvasRef.current;return a.width=n.canvas_width,a.height=n.canvas_height,a},n.vidioRef=Object(a.createRef)(),n.canvasRef=Object(a.createRef)(),n.webcamRef=Object(a.createRef)(),n.faceapi=null,n.video=null,n.detections=null,n.width=600,n.height=800,n.canvas=null,n.ctx=null,n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.canvas_width=window.innerWidth>0?window.innerWidth:window.screen.width,this.canvas_height=window.innerHeight>0?window.innerHeight:window.screen.height,this.make()}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},this.state.loading?i.a.createElement("p",null,"Loading ......"):null,i.a.createElement(k.a,{audio:!1,ref:this.vidioRef,screenshotFormat:"image/jpeg",videoConstraints:this.videoConstraints,style:{display:"none"}}),i.a.createElement("canvas",{id:"canvas",ref:this.canvasRef,width:this.width,height:this.height}))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.f29e767f.chunk.js.map