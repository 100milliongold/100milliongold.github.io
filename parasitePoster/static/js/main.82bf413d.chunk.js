(this["webpackJsonpparasite-poster"]=this["webpackJsonpparasite-poster"]||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/parasite.logo.c88fbf2d.png"},23:function(e,t,n){e.exports=n(48)},28:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(13),c=n.n(o),r=(n(28),n(2)),s=n.n(r),d=n(9),h=n(14),u=n(15),l=n(21),f=n(16),g=n(22),w=n(17),v=n.n(w),p=n(20),m=n(54),x=n(53),y=n(51),b=n(52),R=n(8),_=n(55),k=n(18),j=n.n(k),E=n(19),O=n.n(E),C=(n(47),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(l.a)(this,Object(f.a)(t).call(this,e))).state={loading:!0},n.detection_options={withLandmarks:!0,withDescriptors:!1},n.videoConstraints={facingMode:"user"},n.make=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getVideo();case 2:return n.video=e.sent,e.next=5,n.getImage();case 5:n.image=e.sent,n.canvas=n.createCanvas(n.width,n.height),n.ctx=n.canvas.getContext("2d"),n.faceapi=v.a.faceApi(n.video,n.detection_options,n.modelReady);case 9:case"end":return e.stop()}}),e)}))),n.modelReady=function(){console.log("ready!"),n.setState({loading:!1}),n.faceapi.detect(n.gotResults)},n.gotResults=function(e,t){e?console.log(e):(n.detections=t,n.ctx.fillStyle="#000000",n.ctx.fillRect(0,0,n.width,n.height),n.ctx.drawImage(n.video,0,0,n.width,n.height),n.detections&&n.detections.length>0&&n.drawEyeBox(n.detections),n.faceapi.detect(n.gotResults))},n.drawEyeBox=function(e){return m.a(e,p.a((function(e){var t=e.parts,n=t.leftEye,a=t.rightEye;return x.a([n,a])})),p.a((function(e){var t=y.a((function(e){return e._x}),e)._x,n=b.a((function(e){return e._x}),e)._x;n-=.3*n;var a=y.a((function(e){return e._y}),e)._y,i=b.a((function(e){return e._y}),e)._y-3,o=t-n;return{x:n,y:i,boxWidth:o+=.3*o,boxHeight:a-i+3}})),R.a,_.a((function(e){var t=e.x,a=e.y,i=e.boxWidth,o=e.boxHeight;n.ctx.beginPath(),n.ctx.fillStyle="rgb(0,0,0)",n.ctx.fillRect(t,a,i,o),n.ctx.stroke(),n.ctx.closePath()})))},n.getVideo=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=n.vidioRef.current.video).setAttribute("style","display: none;"),t.width=n.width,t.height=n.height,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),n.getImage=function(){return new Promise((function(e,t){var n=new Image;n.src=O.a,n.onload=function(){e(n)}}))},n.createCanvas=function(e,t){var a=n.canvasRef.current;return a.width=n.canvas_width,a.height=n.canvas_height,a},n.vidioRef=Object(a.createRef)(),n.canvasRef=Object(a.createRef)(),n.webcamRef=Object(a.createRef)(),n.faceapi=null,n.video=null,n.detections=null,n.width=600,n.height=800,n.canvas=null,n.ctx=null,n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.canvas_width=window.innerWidth>0?window.innerWidth:window.screen.width,this.canvas_height=window.innerHeight>0?window.innerHeight:window.screen.height,this.make()}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},this.state.loading?i.a.createElement("p",null,"Loading ......"):null,i.a.createElement(j.a,{audio:!1,ref:this.vidioRef,screenshotFormat:"image/jpeg",videoConstraints:this.videoConstraints,style:{display:"none"}}),i.a.createElement("canvas",{id:"canvas",ref:this.canvasRef,width:this.width,height:this.height}))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.82bf413d.chunk.js.map